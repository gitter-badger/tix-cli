#!/bin/bash
#
# This script installs the tix-cli

. $HOME/.tixrc

echo "Installing CLI to $CLI_ROOT..."
mkdir -p $MODULE_ROOT
pushd $MODULE_ROOT
  if [ -d $CLI_ROOT ];then
    rimraf $CLI_ROOT
  fi

  git clone --depth 1 $GITHUB_URL_CLI
  pushd $CLI_ROOT
    rimraf .git
    rimraf .gitignore
    rimraf .settings
    rimraf img
    rimraf src

    echo "--Installing NPM Components...--"
    npm install minimist --save &>/dev/null
    npm install shelljs --save &>/dev/null
    npm install lodash --save &>/dev/null
    npm install colors --save &>/dev/null
    npm install read --save &>/dev/null
    npm install q --save &>/dev/null
    npm install ftp --save &>/dev/null
    echo "--NPM Components installed successfully--"
  popd
popd

echo "CLI installed successfully."
