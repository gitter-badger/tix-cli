#!/bin/bash
#
# This script installs the tix-cli

source $HOME/local/bin/node_modules/tix-cli/bin/tix-init

#URLs
readonly GITHUB_URL_BASE="https://github.com"
readonly GITHUB_URL_TIX="$GITHUB_URL_BASE/TixInc"
readonly GITHUB_URL_CLI="$GITHUB_URL_TIX/tix-cli"

echo "Installing CLI to $CLI_ROOT..."

mkdir -p $MODULE_ROOT
pushd $MODULE_ROOT
  if [ -e $CLI_ROOT ];then
    rimraf $CLI_ROOT
  fi

  git clone --depth 1 $GITHUB_URL_CLI
  pushd $CLI_ROOT
    rm -rf .git
    rm -rf .gitignore
    rm -rf .settings
    rm -rf img
    rm -rf src

    npm install minimist --save
    npm install shelljs --save
    npm install lodash --save
    npm install colors --save
    npm install read --save
    npm install q --save
    npm install ftp --save
  popd
popd

echo "CLI installed successfully."
